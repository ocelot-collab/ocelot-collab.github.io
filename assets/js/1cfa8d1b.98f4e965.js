"use strict";(self.webpackChunkocelot_website=self.webpackChunkocelot_website||[]).push([[7589],{32:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>d,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"docu/OCELOT fundamentals/twiss","title":"Twiss Class","description":"Description:","source":"@site/docs/docu/OCELOT fundamentals/twiss.md","sourceDirName":"docu/OCELOT fundamentals","slug":"/docu/OCELOT fundamentals/twiss","permalink":"/docs/docu/OCELOT fundamentals/twiss","draft":false,"unlisted":false,"editUrl":"https://github.com/ocelot-collab/ocelot/docs/docu/OCELOT fundamentals/twiss.md","tags":[],"version":"current","sidebarPosition":9,"frontMatter":{"sidebar_position":9,"title":"Twiss Class"},"sidebar":"docsSidebar","previous":{"title":"ParticleArray","permalink":"/docs/docu/OCELOT fundamentals/particle-array"},"next":{"title":"Elements","permalink":"/docs/category/elements"}}');var r=n(4848),t=n(8453);const l={sidebar_position:9,title:"Twiss Class"},o="Twiss Class",d={},c=[{value:"Description:",id:"description",level:2},{value:"Attributes:",id:"attributes",level:3},{value:"Methods:",id:"methods",level:3},{value:"<code>__init__(self, beam=None, **kwargs)</code>",id:"__init__self-beamnone-kwargs",level:4},{value:"<code>multiply_with_tm(self, tm: &#39;TransferMap&#39;, length)</code>",id:"multiply_with_tmself-tm-transfermap-length",level:4},{value:"<code>track(R, tws0)</code>",id:"trackr-tws0",level:4},{value:"<code>map_x_twiss(self, tm)</code>",id:"map_x_twissself-tm",level:4},{value:"<code>__str__(self)</code>",id:"__str__self",level:4},{value:"<code>to_series(self) -&gt; pd.Series</code>",id:"to_seriesself---pdseries",level:4},{value:"<code>from_series(cls, series: pd.Series)</code>",id:"from_seriescls-series-pdseries",level:4}];function a(e){const s={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"twiss-class",children:"Twiss Class"})}),"\n",(0,r.jsx)(s.h2,{id:"description",children:"Description:"}),"\n",(0,r.jsxs)(s.p,{children:["The ",(0,r.jsx)(s.code,{children:"Twiss"})," class serves as a container for Twiss parameters, which are used to describe the phase space properties of a beam in a storage ring or accelerator. The class supports the calculation of the Twiss parameters, tracking them through a lattice, and updating them as the beam passes through various optical elements."]}),"\n",(0,r.jsx)(s.h3,{id:"attributes",children:"Attributes:"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"emit_x"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal beam emittance."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"emit_y"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical beam emittance."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"emit_xn"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Normalized horizontal beam emittance."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"emit_yn"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Normalized vertical beam emittance."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"eigemit_1"})," (",(0,r.jsx)(s.code,{children:"float"}),"): First eigen-emittance value."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"eigemit_2"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Second eigen-emittance value."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"beta_x"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal beta function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"beta_y"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical beta function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"alpha_x"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal alpha function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"alpha_y"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical alpha function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"gamma_x"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal gamma function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"gamma_y"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical gamma function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dx"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal dispersion function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical dispersion function."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dxp"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal dispersion derivative."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Dyp"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical dispersion derivative."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"mux"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal phase advance."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"muy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical phase advance."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"E"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Energy of the beam (in GeV)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"s"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Longitudinal position along the reference trajectory."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"q"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Charge of the whole beam (in C)."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"x"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Mean horizontal position of the beam."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"y"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Mean vertical position of the beam."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"p"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Longitudinal momentum of the beam."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"tau"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Longitudinal position."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"xp"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Horizontal momentum."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"yp"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Vertical momentum."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"xx"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Moment of horizontal position squared."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"xpx"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Cross-term of horizontal position and momentum."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"pxpx"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Moment of horizontal momentum squared."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"yy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Moment of vertical position squared."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ypy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Cross-term of vertical position and momentum."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"pypy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Moment of vertical momentum squared."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"tautau"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Longitudinal position squared."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"xy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Cross-term between horizontal and vertical positions."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"pxpy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Cross-term between horizontal and vertical momenta."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"xpy"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Cross-term between horizontal position and vertical momentum."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"ypx"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Cross-term between vertical position and horizontal momentum."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"pp"})," (",(0,r.jsx)(s.code,{children:"float"}),"): Longitudinal momentum squared."]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"id"})," (",(0,r.jsx)(s.code,{children:"str"}),"): Identifier for the Twiss instance."]}),"\n"]}),"\n",(0,r.jsx)(s.h3,{id:"methods",children:"Methods:"}),"\n",(0,r.jsx)(s.h4,{id:"__init__self-beamnone-kwargs",children:(0,r.jsx)(s.code,{children:"__init__(self, beam=None, **kwargs)"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Initializes the Twiss parameters, either from a given ",(0,r.jsx)(s.code,{children:"beam"})," (either a ",(0,r.jsx)(s.code,{children:"Twiss"})," or ",(0,r.jsx)(s.code,{children:"Beam"})," object) or through the keyword arguments provided."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"multiply_with_tmself-tm-transfermap-length",children:(0,r.jsx)(s.code,{children:"multiply_with_tm(self, tm: 'TransferMap', length)"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Multiplies the current Twiss parameters with the transfer map (",(0,r.jsx)(s.code,{children:"tm"}),") and the length of the segment. Returns the updated Twiss parameters."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"trackr-tws0",children:(0,r.jsx)(s.code,{children:"track(R, tws0)"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Tracks the Twiss parameters through a transfer matrix ",(0,r.jsx)(s.code,{children:"R"})," using the initial Twiss parameters ",(0,r.jsx)(s.code,{children:"tws0"}),". Returns the updated Twiss parameters."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"map_x_twissself-tm",children:(0,r.jsx)(s.code,{children:"map_x_twiss(self, tm)"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Maps the Twiss parameters using the transfer map ",(0,r.jsx)(s.code,{children:"tm"})," and updates them based on the beam's energy."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"__str__self",children:(0,r.jsx)(s.code,{children:"__str__(self)"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Returns a string representation of the Twiss parameters."}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"to_seriesself---pdseries",children:(0,r.jsx)(s.code,{children:"to_series(self) -> pd.Series"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Converts the ",(0,r.jsx)(s.code,{children:"Twiss"})," instance into a ",(0,r.jsx)(s.code,{children:"pandas.Series"})," object for easy manipulation and analysis."]}),"\n"]}),"\n",(0,r.jsx)(s.h4,{id:"from_seriescls-series-pdseries",children:(0,r.jsx)(s.code,{children:"from_series(cls, series: pd.Series)"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:["Class method to create a ",(0,r.jsx)(s.code,{children:"Twiss"})," instance from a ",(0,r.jsx)(s.code,{children:"pandas.Series"}),"."]}),"\n"]}),"\n",(0,r.jsx)(s.hr,{})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(a,{...e})}):a(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>l,x:()=>o});var i=n(6540);const r={},t=i.createContext(r);function l(e){const s=i.useContext(t);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:l(e.components),i.createElement(t.Provider,{value:s},e.children)}}}]);