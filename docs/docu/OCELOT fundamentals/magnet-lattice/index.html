<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-docu/OCELOT fundamentals/magnet-lattice" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.7.0">
<title data-rh="true">MagneticLattice | OCELOT</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ocelot-collab.com/docs/docu/OCELOT fundamentals/magnet-lattice"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="MagneticLattice | OCELOT"><meta data-rh="true" name="description" content="MagneticLattice class"><meta data-rh="true" property="og:description" content="MagneticLattice class"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ocelot-collab.com/docs/docu/OCELOT fundamentals/magnet-lattice"><link data-rh="true" rel="alternate" href="https://ocelot-collab.com/docs/docu/OCELOT fundamentals/magnet-lattice" hreflang="en"><link data-rh="true" rel="alternate" href="https://ocelot-collab.com/docs/docu/OCELOT fundamentals/magnet-lattice" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://A7SK3UKMX4-dsn.algolia.net" crossorigin="anonymous"><link rel="search" type="application/opensearchdescription+xml" title="OCELOT" href="/opensearch.xml">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.0b89c045.css">
<script src="/assets/js/runtime~main.3aa3a5fb.js" defer="defer"></script>
<script src="/assets/js/main.54518d56.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">OCELOT</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docu/intro">Documentation</a><a class="navbar__item navbar__link" href="/docs/tutorial/intro">Tutorials</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/ocelot-collab/ocelot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite" aria-pressed="false"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docu/intro">Introduction</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/ocelot-basics">OCELOT Basics</a><button aria-label="Collapse sidebar category &#x27;OCELOT Basics&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docu/OCELOT fundamentals/intro">Intro to OCELOT Structure</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docu/OCELOT fundamentals/coordinate_system">Ocelot Coordinate System</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/docu/OCELOT fundamentals/magnet-lattice">MagneticLattice</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docu/OCELOT fundamentals/navigator">Navigator</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docu/OCELOT fundamentals/tracking">Tracking</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docu/OCELOT fundamentals/particle-array">ParticleArray</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docu/OCELOT fundamentals/twiss">Twiss</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docu/OCELOT fundamentals/matching">Matching</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/elements">Elements</a><button aria-label="Expand sidebar category &#x27;Elements&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/transfer-maps">Transfer Maps</a><button aria-label="Expand sidebar category &#x27;Transfer Maps&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/physics-processes">Physics Processes</a><button aria-label="Expand sidebar category &#x27;Physics Processes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/useful-functions">Useful Functions</a><button aria-label="Expand sidebar category &#x27;Useful Functions&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/how-to">How To</a><button aria-label="Expand sidebar category &#x27;How To&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/docs/category/ocelot-basics"><span itemprop="name">OCELOT Basics</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">MagneticLattice</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1><a href="https://github.com/ocelot-collab/ocelot/blob/master/ocelot/cpbd/magnetic_lattice.py#L163" target="_blank" rel="noopener noreferrer">MagneticLattice</a> Class</h1></header>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="description">Description<a href="#description" class="hash-link" aria-label="Direct link to Description" title="Direct link to Description">​</a></h2>
<p>The <a href="https://github.com/ocelot-collab/ocelot/blob/master/ocelot/cpbd/magnetic_lattice.py#L163" target="_blank" rel="noopener noreferrer"><code>MagneticLattice</code></a> class
represents a magnetic lattice, which is a sequence of elements forming a beamline. The lattice elements can include magnets,
quadrupoles, undulators, and drifts, and they are used to model the trajectory and dynamics of a particle beam.
This class allows for various operations like updating transfer maps, calculating lattice length, and finding specific
elements within the lattice. It also provides functionality for calculating transfer maps and periodic Twiss parameters.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="simplest-example-of-use">Simplest Example of Use<a href="#simplest-example-of-use" class="hash-link" aria-label="Direct link to Simplest Example of Use" title="Direct link to Simplest Example of Use">​</a></h3>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> ocelot </span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">*</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create elements of beamline</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">d </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Drift</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">q </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Quadrupole</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">l</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> k1</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Create your beamline - sequence of elements</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cell </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">d</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MagneticLattice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="constructor">Constructor<a href="#constructor" class="hash-link" aria-label="Direct link to Constructor" title="Direct link to Constructor">​</a></h2>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MagneticLattice</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">def</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">__init__</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> sequence</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> E </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stop</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> E </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">=</span><span class="token boolean" style="color:#36acaa">None</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments">Arguments:<a href="#arguments" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li>
<p><strong>sequence</strong> (<code>list</code>): A list of elements that form the lattice.</p>
</li>
<li>
<p><strong>start</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>, optional): The first element of the lattice. If <code>None</code>, the lattice starts with the first element of the sequence.</p>
</li>
<li>
<p><strong>stop</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>, optional): The last element of the lattice (included). If <code>None</code>, the lattice stops with the last element of the sequence.</p>
</li>
<li>
<p><strong>method</strong> (<code>dict</code>, optional): A dictionary specifying the tracking method for the lattice. If no method is provided,
<a href="/docs/docu/trasfer-maps/first-order"><code>TransferMap</code></a> is used as the global default for all elements.
Specific methods for individual elements can also be set.</p>
<p>Example:</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">method </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;global&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> TransferMap</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic"># default first order transfer map</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MagneticLattice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">method</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># or</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">method </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;global&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SecondTM</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Octupole</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> KickTM</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Undulator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> RungeKuttaTM</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MagneticLattice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">method</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<p>In this example:</p>
<ul>
<li>Sets <a href="/docs/docu/trasfer-maps/second-order"><code>SecondTM</code></a> (second order transfer maps) as the global transfer map for all elements.</li>
<li>Assigns <code>KickTM</code> specifically for <code>Octupole</code> elements.</li>
<li>Assigns <code>RungeKuttaTM</code> specifically for <code>Undulator</code> elements.</li>
</ul>
</li>
</ul>
<div class="theme-admonition theme-admonition-info admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>info</div><div class="admonitionContent_BuS1"><p>In order to avoid mistakes, the <strong>start</strong> and <strong>stop</strong> element must be different objects.
It is also recommended to use the Marker element as both the <strong>start</strong> and <strong>stop</strong> element.</p><p>Example:</p><div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">m1 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Marker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m2 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> Marker</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">cell </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">m1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> d</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> q</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> m2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> d10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> qf10</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lat </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> MagneticLattice</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">cell</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> start</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">m1</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> stop</span><span class="token operator" style="color:#393A34">=</span><span class="token plain">m2</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> method</span><span class="token operator" style="color:#393A34">=</span><span class="token punctuation" style="color:#393A34">{</span><span class="token string" style="color:#e3116c">&quot;global&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> SecondTM</span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="methods">Methods<a href="#methods" class="hash-link" aria-label="Direct link to Methods" title="Direct link to Methods">​</a></h2>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="get_sequence_partself-start-e-stop-e"><code>get_sequence_part(self, start: E, stop: E)</code><a href="#get_sequence_partself-start-e-stop-e" class="hash-link" aria-label="Direct link to get_sequence_partself-start-e-stop-e" title="Direct link to get_sequence_partself-start-e-stop-e">​</a></h4>
<p>This method gets a part of the lattice sequence starting from <code>start</code> to <code>stop</code>.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-1">Arguments:<a href="#arguments-1" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li><strong>start</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>): The element where the sequence starts.</li>
<li><strong>stop</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>): The element where the sequence ends (included <strong>stop</strong> element).</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns">Returns:<a href="#returns" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>A sublist of elements from the sequence.</li>
</ul>
<hr>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="update_transfer_mapsself"><code>update_transfer_maps(self)</code><a href="#update_transfer_mapsself" class="hash-link" aria-label="Direct link to update_transfer_mapsself" title="Direct link to update_transfer_mapsself">​</a></h3>
<p>The name of the method does not accurately reflect its functionality but is retained for legacy purposes.
This method assigns specific transfer maps to each element in the sequence based on a <code>method</code> dictionary.
Additionally, it calculates the total length <code>self.totalLen</code> of the lattice by summing the lengths of its elements.</p>
<div class="language-python codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-python codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">for</span><span class="token plain"> i</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> element </span><span class="token keyword" style="color:#00009f">in</span><span class="token plain"> </span><span class="token builtin">enumerate</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">sequence</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">totalLen </span><span class="token operator" style="color:#393A34">+=</span><span class="token plain"> element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">l  </span><span class="token comment" style="color:#999988;font-style:italic"># Accumulate the total length of the lattice</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    tm_class_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">method</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">__class__</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Get specific transfer map for element class</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> tm_class_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_tm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tm_class_type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Set the class-specific transfer map</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">else</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        tm_class_type </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> self</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">method</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">get</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;global&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Fallback to the global transfer map</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">if</span><span class="token plain"> tm_class_type</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            element</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">set_tm</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">tm_class_type</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Set the global transfer map</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-1">Returns:<a href="#returns-1" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>The updated <code>MagneticLattice</code> object.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="__str__self"><code>__str__(self)</code><a href="#__str__self" class="hash-link" aria-label="Direct link to __str__self" title="Direct link to __str__self">​</a></h4>
<p>Returns a string representation of the lattice, showing the total length and details of each element.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-2">Returns:<a href="#returns-2" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>A string containing the total length and details of each element in the sequence.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="find_indicesself-element"><code>find_indices(self, element)</code><a href="#find_indicesself-element" class="hash-link" aria-label="Direct link to find_indicesself-element" title="Direct link to find_indicesself-element">​</a></h4>
<p>Finds the indices of elements in the sequence by their class type.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-2">Arguments:<a href="#arguments-2" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li><strong>element</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>): The class type of the element to search for.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-3">Returns:<a href="#returns-3" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>A list of indices where the specified element type is found in the sequence.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="find_driftsself"><code>find_drifts(self)</code><a href="#find_driftsself" class="hash-link" aria-label="Direct link to find_driftsself" title="Direct link to find_driftsself">​</a></h4>
<p>Finds the drift elements in the sequence and returns them.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-4">Returns:<a href="#returns-4" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>A list of drift elements.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="rem_driftsself"><code>rem_drifts(self)</code><a href="#rem_driftsself" class="hash-link" aria-label="Direct link to rem_driftsself" title="Direct link to rem_driftsself">​</a></h4>
<p>Removes repeated drift elements from the lattice.</p>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="save_as_py_fileself-file_name-str-tws0none-remove_rep_driftstrue-power_supplyfalse"><code>save_as_py_file(self, file_name: str, tws0=None, remove_rep_drifts=True, power_supply=False)</code><a href="#save_as_py_fileself-file_name-str-tws0none-remove_rep_driftstrue-power_supplyfalse" class="hash-link" aria-label="Direct link to save_as_py_fileself-file_name-str-tws0none-remove_rep_driftstrue-power_supplyfalse" title="Direct link to save_as_py_fileself-file_name-str-tws0none-remove_rep_driftstrue-power_supplyfalse">​</a></h4>
<p>Saves the lattice to a Python file.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-3">Arguments:<a href="#arguments-3" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li><strong>file_name</strong> (<code>str</code>): The path and name of the Python file where the lattice will be stored.</li>
<li><strong>tws0</strong> (<a href="/docs/docu/OCELOT fundamentals/twiss"><code>Twiss</code></a>, optional): A <code>Twiss</code> object. If provided, the Twiss parameters will be printed at the beginning of the lattice file.</li>
<li><strong>remove_rep_drifts</strong> (<code>bool</code>, optional): If <code>True</code>, removes repeated drift elements from the lattice.</li>
<li><strong>power_supply</strong> (<code>bool</code>, optional): If <code>True</code>, writes the power supply IDs into the file.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="transfer_mapsself-energy-output_at_each_step-bool--false-start-e--none-stop-e--none"><code>transfer_maps(self, energy, output_at_each_step: bool = False, start: E = None, stop: E = None)</code><a href="#transfer_mapsself-energy-output_at_each_step-bool--false-start-e--none-stop-e--none" class="hash-link" aria-label="Direct link to transfer_mapsself-energy-output_at_each_step-bool--false-start-e--none-stop-e--none" title="Direct link to transfer_mapsself-energy-output_at_each_step-bool--false-start-e--none-stop-e--none">​</a></h4>
<p>Calculates the transfer maps (first and second orders) for the entire lattice.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-4">Arguments:<a href="#arguments-4" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li><strong>energy</strong> (<code>float</code>): The initial electron beam energy in GeV.</li>
<li><strong>output_at_each_step</strong> (<code>bool</code>, optional): If <code>True</code>, returns the transfer maps at each step in the lattice.</li>
<li><strong>start</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>, optional): The element to start from in the sequence.</li>
<li><strong>stop</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>, optional): The element to stop at in the sequence.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-5">Returns:<a href="#returns-5" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>The transfer maps (<code>B</code>, <code>R</code>, <code>T</code>) for the entire lattice or at each step if <code>output_at_each_step</code> is <code>True</code>.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="surveyself-x00-y00-z00-ang_x00-ang_y00"><code>survey(self, x0=0, y0=0, z0=0, ang_x=0.0, ang_y=0.0)</code><a href="#surveyself-x00-y00-z00-ang_x00-ang_y00" class="hash-link" aria-label="Direct link to surveyself-x00-y00-z00-ang_x00-ang_y00" title="Direct link to surveyself-x00-y00-z00-ang_x00-ang_y00">​</a></h4>
<p>Calculates coordinates in rectangular coordinates at the beginning of each element in the lattice.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-5">Arguments:<a href="#arguments-5" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li><strong>x0</strong> (<code>float</code>, optional): The initial offset in the x direction.</li>
<li><strong>y0</strong> (<code>float</code>, optional): The initial offset in the y direction.</li>
<li><strong>z0</strong> (<code>float</code>, optional): The initial offset in the z direction.</li>
<li><strong>ang_x</strong> (<code>float</code>, optional): The initial angle in the horizontal plane.</li>
<li><strong>ang_y</strong> (<code>float</code>, optional): The initial angle in the vertical plane.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-6">Returns:<a href="#returns-6" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>Lists of coordinates: <code>x</code>, <code>y</code>, <code>z</code>, <code>a_x</code>, <code>a_y</code>.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="print_sequenceself-start-e--none-stop-e--none"><code>print_sequence(self, start: E = None, stop: E = None)</code><a href="#print_sequenceself-start-e--none-stop-e--none" class="hash-link" aria-label="Direct link to print_sequenceself-start-e--none-stop-e--none" title="Direct link to print_sequenceself-start-e--none-stop-e--none">​</a></h4>
<p>Prints the sequence of elements in the lattice, including their lengths and start/end positions.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-6">Arguments:<a href="#arguments-6" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li><strong>start</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>, optional): The element to start from in the sequence.</li>
<li><strong>stop</strong> (<a href="/docs/docu/elements/element"><code>Element</code></a>, optional): The element to stop at in the sequence.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-7">Returns:<a href="#returns-7" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>A list of strings representing the sequence of elements.</li>
</ul>
<hr>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="periodic_twissself-twsnone"><code>periodic_twiss(self, tws=None)</code><a href="#periodic_twissself-twsnone" class="hash-link" aria-label="Direct link to periodic_twissself-twsnone" title="Direct link to periodic_twissself-twsnone">​</a></h4>
<p>Calculates the periodic Twiss parameters for the lattice using transfer maps.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="arguments-7">Arguments:<a href="#arguments-7" class="hash-link" aria-label="Direct link to Arguments:" title="Direct link to Arguments:">​</a></h4>
<ul>
<li><strong>tws</strong> (<a href="/docs/docu/OCELOT fundamentals/twiss"><code>Twiss</code></a>, optional): A <a href="/docs/docu/OCELOT fundamentals/twiss"><code>Twiss</code></a> object. If provided, the initial Twiss parameters will be used.</li>
</ul>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="returns-8">Returns:<a href="#returns-8" class="hash-link" aria-label="Direct link to Returns:" title="Direct link to Returns:">​</a></h4>
<ul>
<li>The periodic Twiss parameters.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/ocelot-collab/ocelot-collab.github.io/tree/main/docs/docu/OCELOT fundamentals/magnet-lattice.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/docu/OCELOT fundamentals/coordinate_system"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Ocelot Coordinate System</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/docu/OCELOT fundamentals/navigator"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Navigator</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link toc-highlight">Description</a><ul><li><a href="#simplest-example-of-use" class="table-of-contents__link toc-highlight">Simplest Example of Use</a></li></ul></li><li><a href="#constructor" class="table-of-contents__link toc-highlight">Constructor</a></li><li><a href="#methods" class="table-of-contents__link toc-highlight">Methods</a><ul><li><a href="#update_transfer_mapsself" class="table-of-contents__link toc-highlight"><code>update_transfer_maps(self)</code></a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/tutorial/intro">Tutorial</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/docu/intro">Documentation</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/ocelot-collab/ocelot" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 OCELOT, Inc. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>